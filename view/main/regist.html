<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="/public/images/favicon.ico" rel="shortcut icon">
    <link rel="stylesheet" href="/public/css/choulouderen.css">
    <title>注册</title>
</head>
<body>
<span id="header"></span>
<section class="sgin_box">
    <div class="sgin">
        <h1>注册</h1>
        <h1 class="message"  id="errMessage"></h1>
        <ul class="put no_style">
            <li>
                <p>账号</p>
                <input type="text" id="username" placeholder="请用邮箱注册">
                <b><em></em></b>
            </li>
            <li>
                <p>密码</p>
                <input type="password" id="passwd" placeholder="密码(请使用数字和字母组合)">
                <b><em></em></b>
            </li>
            <li>
                <p>昵称</p>
                <input type="text" id="nick_name" placeholder="用于个人形象展示">
                <b><em></em></b>
            </li>
        </ul>
        <p class="tishi">请用邮箱注册</p>
        <button class="btn" onclick="rgister()">注册</button>
    </div>  
</section>
<script src="/public/js/common.js"></script>      
<script>
window.onload = function(){
     /* 显示头部和脚 */
     get_head_foot();

    var errMessage = document.getElementById("errMessage");
    /* 用户注册 */
    rgister = function(){
        var username = document.getElementById("username").value;
        var passwd = document.getElementById("passwd").value;
        var nick_name = document.getElementById("nick_name").value;
        var data = {
            nick_name:nick_name,
            username:username,
            passwd:passwd
        }
        $.ajax({
            url:"/api/post/sign_up",
            data:data,
            success:function(res){
                console.log(res);
                errMessage.innerHTML = res.message;
            }
        });
    }
}

</script>
</body>
</html>